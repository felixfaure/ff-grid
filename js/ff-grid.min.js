!function(t){"use strict";function e(t,e){if(t)for(var n=0,i=t.length;i>n;n++)t[n]&&e(t[n],n,t)}function n(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}function i(t,i,o){var a={item:".ffgrid_item",autoGutter:!0,gutterH:25,animate:!1};a=n(a,i);var u=t instanceof Node?t:document.querySelector(t);if(!u)return!1;var f=u.querySelectorAll(a.item);if(0===f.length)return u.style.height="0px",!1;var s=u.getBoundingClientRect().width,l=f[0].getBoundingClientRect().width,c=Math.max(Math.floor(s/l),1),v=(s-c*l)/(c-1),h=a.autoGutter?v:a.gutterH,d=0;u.style.position="relative";for(var g=[],m=[],p=0;c>p;++p)m.push(p*l+p*v),g.push(0);e(f,function(t){var e=g.slice(0).sort(function(t,e){return t-e}).shift();e=g.indexOf(e);var n=m[e],i=g[e];return t.style.position="absolute",!a.animate&&r&&(t.style[r]="translate3D("+n+"px,"+i+"px, 0)"),g[e]+=t.getBoundingClientRect().height+h,d+=1,a.animate?a.animate(t,n,i,d):void 0});var y=g.slice(0).sort(function(t,e){return t-e}).pop();u.style.height=y+"px","function"==typeof o&&o(f)}var r;!function(){var t,e=document.createElement("a").style;void 0!==e[t="webkitTransform"]&&(r=t),void 0!==e[t="msTransform"]&&(r=t),void 0!==e[t="transform"]&&(r=t)}(),t.ffgrid=i}(this);