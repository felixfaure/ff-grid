!function(t){"use strict";function e(t){return t.getBoundingClientRect()}function n(t){if(!r)return!1;var n=t.cont instanceof Node?t.cont:document.querySelector(t.cont);if(!n)return!1;var i=[].slice.call(n.querySelectorAll(t.item));if(0===i.length)return!1;t.ext=t.ext||[!1,!1];var o=e(n).width,a=e(i[0]).width,s=Math.max(Math.floor(o/a),1),u=(o-s*a)/(s-1+(t.ext[0]?2:0)),c=t.gutter||u,f=0;n.style.position="relative";for(var l=[],d=[],h=0;s>h;++h)d.push(h*a+(h+(t.ext[0]?1:0))*u),l.push(t.ext[1]?c:0);i.forEach(function(n){var i=l.slice(0).sort(function(t,e){return t-e}).shift();i=l.indexOf(i);var o=d[i],a=l[i];return l[i]+=e(n).height+c,f++,n.style.position="absolute",t.animate?t.animate(n,o,a,f):void(n.style[r]="translate("+o+"px,"+a+"px)")});var v=l.slice(0).sort(function(t,e){return t-e}).pop();n.style.height=v-(t.ext[1]?0:c)+"px",t.done&&t.done(i,n)}var r;!function(){var t,e=document.createElement("a").style;void 0!==e[t="webkitTransform"]&&(r=t),void 0!==e[t="msTransform"]&&(r=t),void 0!==e[t="transform"]&&(r=t)}(),t.ffgrid=n}(this);